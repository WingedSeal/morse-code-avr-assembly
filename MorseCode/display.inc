.macro handleDisplay
	TST R23
	BRNE _IS_NOT_ZERO
		LDI R16, 0x00
		OUT PORTD, R16
		LDI R16, 0x1F
		OUT PORTC, R16
		RJMP _HANDLE_DISPLAY_DONE
	_IS_NOT_ZERO:
	CPI YL, low(output_displays)
	BRNE _IS_NOT_RIGHT_EDGE
		; _IS_RIGHT_EDGE
		SBI PORTB, 1
		RJMP _CONTINUE_RIGHT_EDGE
	_IS_NOT_RIGHT_EDGE:
		CBI PORTB, 1
	_CONTINUE_RIGHT_EDGE:
	LDI R16, low(output_displays)
	ADD R16, R23
	DEC R16
	CP YL, R16
	BRNE _IS_NOT_LEFT_EDGE
		; _IS_LEFT_EDGE
		SBI PORTB, 0
		RJMP _CONTINUE_LEFT_EDGE
	_IS_NOT_LEFT_EDGE:
		CBI PORTB, 0
	_CONTINUE_LEFT_EDGE:
	LD R16, Y
	OUT PORTD, R16
	_HANDLE_DISPLAY_DONE:
.endmacro